<p>
  <strong><font color="#FF0000"><img border="0"
       src="http://7xkmea.com1.z0.glb.clouddn.com/7Oracle技术流程.png" width="613" height="1165" alt="" border="0" /></font></strong>
</p>
<p>
  <strong><font color="#FF0000">Oracle概述：</font></strong>
</p>
<p>
  <font color="#FF6800">0.默认帐号密码：</font>
</p>
<p>
  <font color="#000000">sys密码：change_on_install as sysdba；system密码：manager；scott密码：tiger</font>
</p>
<p>
  <font color="#FF6800">1.大小写约定：</font>
</p>
<p>
  <font color="#000000">表名和列名，大小写不敏感；属性值，大小写敏感</font>
</p>
<p>
  <font color="#FF6800">2.表名和列名的命名规则：</font>
</p>
<p>
  字母开头；30字符以内；不能使用Oracle的保留字；字符范围：A-Z,a-z,0-9,$,#
</p>
<p>
  <font color="#FF6800">3.数据类型：</font>
</p>
<p>
  字符型：char(),上限2000；varchar2(),上限4000；clob(),上限4G
</p>
<p>
  数字型：number(10*-38~10*38)；number(5,2),有效数字是五位，小位数是2位；number(5),有效数字是五位
</p>
<p>
  日期型：date,timestamp；
</p>
<p>
  日期默认格式是：21-5月-15(dd-mm-yy)，修改日期的默认格式：alter session set nls_date_format='yyyy-mm-dd'，修改后格式为2015-05-15
</p>
<p>
  图片型：blob,二进制数据，用来存放图片/声音/视频，一般不会存放在数据库，出于安全考虑可以用blob
</p>
<p>
  <strong><font color="#FF0000">1.基本使用（2种）</font></strong>
</p>
<p>
  <font color="#FF6800">连接命令：</font>
</p>
<p>
  登录账户：conn <u>用户名/用户密码</u>
</p>
<p>
  断开账户连接：disc
</p>
<p>
  修改密码：password
</p>
<p>
  显示当前登录帐号：show user
</p>
<p>
  退出：exit
</p>
<p>
  <font color="#FF6800">文件操作命令：</font>
</p>
<p>
  打开sql脚本：start d:\a.sql
</p>
<p>
  修改sql脚本：edit d:\a.sql
</p>
<p>
  将sql操作结果输出到b.sql：
</p>
<p>
  spool d:\b.sql
</p>
<p>
  增删改查语句
</p>
<p>
  spool off
</p>
<p>
  <font color="#FF6800">其他命令：</font>
</p>
<p>
  <font color="#000000">set timing on;(在查询页面显示耗时)</font>
</p>
<p>
  savepoint a;(设立保存点，用于回滚，只能有一个)
</p>
<p>
  rollback to a;(回滚到保存点a)
</p>
<p>
  <font color="#000000">desc 表名;(查看表名的结构)</font>
</p>
<p>
  <strong><font color="#FF0000">2.用户管理（3种）</font></strong>
</p>
<p>
  <font color="#FF6800">用户口令：</font>
</p>
<p>
  创建用户(dba权限)：create user 用户名 identified by 密码
</p>
<p>
  用户自己修改密码：password
</p>
<p>
  给其他用户修改密码(dba权限)：alter user 用户名 identified by 密码
</p>
<p>
  删除用户(dba权限，自己不能删除自己)：drop user 用户名[cascade]
</p>
<p>
  锁定用户：alter user 用户名 account lock
</p>
<p>
  解锁用户：alter user 用户名 account unlock
</p>
<p>
  <font color="#FF6800">权限口令：</font>
</p>
<p>
  Oracle大概有140种权限，分为系统权限(对数据库)和数据对象操作权限(对表、视图)，权限过于复杂。
</p>
<p>
  所以设立角色，角色拥有很多权限，分为自定义角色和预定义角色(如：scott,sys,system)。
</p>
<p>
  授予登录权限：grant create session to 用户名
</p>
<p>
  授予建表权限：grant resource to 用户名
</p>
<p>
  回收建表权限：revoke resource from 用户名
</p>
<p>
  授予对象操作权限：grant select/update/delete/insert/all on 表名 to 用户名
</p>
<p>
  回收对象操作权限：revoke select/update/delete/insert/all on 表名&nbsp;from 用户名
</p>
<p>
  权限传递(A的权限给B，B再把权限给C)：grant select/update/delete/insert/all on 表名 to 用户名 with grant option
</p>
<p>
  <font color="#FF6800">profile管理口令：</font>(口令限制，资源限制的命令集合)
</p>
<p>
  输错密码锁定帐户：create profile <u>命令集合名(随意)</u> limit failed_login_attempts <u>次数(整数)</u> password_lock_time <u>天数(整数)</u>
</p>
<p>
  定期修改密码：create profile 命令集合名(随意) limit password_life_time 天数(多少天内改密码) password_grace_time 天数(宽恕期)
</p>
<p>
  修改的密码不能和旧密码相同：create profile 命令集合名(如：password_history) limit password_life_time 天数(多少天内改密码) password_grace_time 天数(宽恕期) password_reuse_time(多少天后可以重用)
</p>
<p>
  分配给用户：alter&nbsp;user&nbsp;用户名&nbsp;profile 命令集合名(随意)
</p>
<p>
  <strong><font color="#FF0000">3.表管理：（4种）</font></strong>
</p>
<p>
  <font color="#FF6800">增 create/insert：</font>
</p>
<p>
  create table student(
</p>
<p>
  classId number(2),
</p>
<p>
  className varchar2(20)
</p>
<p>
  );
</p>
<p>
  insert into student values (1,'终极二班');
</p>
<p>
  insert into student(classid) values (2);(插入不完整属性)
</p>
<p>
  insert into&nbsp;student select * from student;(复制表中属性)
</p>
<p>
  <font color="#FF6800">删 delete：</font>
</p>
<p>
  <font color="#000000">delete from student;(删除数据，oracle有日志，可恢复)</font>
</p>
<p>
  truncate table student;(删除数据，无日志，不可恢复，速度快)
</p>
<p>
  delete from student where classid='2';(删除某条数据)
</p>
<p>
  drop table student;(删除表结构和数据)
</p>
<p>
  <font color="#FF6800">改 update：</font>
</p>
<p>
  <font color="#000000">update student set classname='终极好多班' where classid=2;</font>
</p>
<p>
  alter table student&nbsp; add (classtype number(2));(添加一个字段)
</p>
<p>
  alter table student modify (classname varchar2(30));(改变字段长度)
</p>
<p>
  alter table student modify (classname char(10));(改变字段的类型)
</p>
<p>
  alter table student drop colum classname;(删除一个字段)
</p>
<p>
  rename student to student;(修改表的名字)
</p>
<p>
  <font color="#FF6800">查询强化 select：</font>
</p>
<p>
  1.使用算式表达式
</p>
<p>
  select sal*12 from emp;（运算符中有null值，整个运算结果都是null）&nbsp;
</p>
<p>
  2.使用列的别名
</p>
<p>
  select deptno 部门， avg(sal) 平均工资 from emp group by deptno;
</p>
<p>
  3.处理null
</p>
<p>
  select sal*12+nvl(comm,0)*12 from emp;（nvl函数可以将null转化为0）
</p>
<p>
  4.连接字符串
</p>
<p>
  select name || ' is a ' || job from emp;（用||来连接）
</p>
<p>
  5.like语句
</p>
<p>
  select name from emp where name like 's%';（%任意多个字符，_是指单个字符）
</p>
<p>
  6.in语句
</p>
<p>
  select * from emp where empno in (100,200,456);（当要使用or的时候，可以使用in来代替）
</p>
<p>
  7.排序
</p>
<p>
  【升】 order by 字段名 [asc]
</p>
<p>
  【降】order by 字段名 [desc]
</p>
<p>
  8.数据分组 (group by ， having 必须和聚集函数一起使用才有意义)
</p>
<p>
  （分组）聚集函数：max,min,avg,sum,count
</p>
<p>
  单组函数：普通的列属性
</p>
<p>
  select deptno,count(*) as "人数" from emp group by deptno;
</p>
<p>
  详情：<a href="http://blog.csdn.net/yinghuayu1324117/article/details/6522056">http://blog.csdn.net/yinghuayu1324117/article/details/6522056</a>
</p>
<p>
  <font color="#FF6800">单表查询：</font>
</p>
<p>
  <font color="#000000"><font color="#000000">select&nbsp;classid from student;(查看指定列)</font></font>
</p>
<p>
  <font color="#000000">select * from student where className is null;(查询是否为空)</font>
</p>
<p>
  <font color="#000000">select distinct classname from&nbsp;student;(取消重复行)&nbsp;</font>
</p>
<p>
  <font color="#FF6800">多表/连接查询：</font>
</p>
<p>
  原理：表1有x个属性，表2有y个属性多表一共有x*y种组合，从组合中选择匹配的数据
</p>
<p>
  select a1.ename,a1.sal,a2.dname from emp a1, dept a2&nbsp;where a1.deptno = a2.deptno;（当表1和表2中需要比较的属性名字相同就用a1，a2来区分）&nbsp;
</p>
<p>
  <font color="#FF6800">合并查询：</font>
</p>
<p>
  select ename,sal,job from emp where sal&gt;2500 union select ename,sal,job from emp where job='manager';（union合并查询数据）
</p>
<p>
  &nbsp;
</p>
<p>
  <strong><font color="#FF0000">4.聚集函数：（6种）</font></strong>
</p>
<p>
  <font color="#000000">聚集函数：max,min,avg,sum,count</font>
</p>
<p>
  字符函数：lower,upper,length,substr,replace,instr
</p>
<p>
  数学函数：round,trunc,mod,floor,ceil
</p>
<p>
  日期函数：sysdate,add_months,lat_day
</p>
<p>
  转换函数：to_char(属性,'yyyy-mm-DD') , to_char(属性,'L99999.99')
</p>
<p>
  系统函数：select sys_context('userenv','db_name') from dual\
</p>
<p>
  &nbsp;
</p>
<p>
  <strong><font color="#FF0000">5.PL/SQL</font></strong>
</p>
<p>
  <font color="#FF6800">1.PL/SQL的特点：</font>
</p>
<p>
  PL/SQL=Procedural Language / SQL
</p>
<p>
  PL/SQL是过程化SQL语言，像编程语言C一样，而不像标准SQL语言(这个是结构化的)
</p>
<p>
  主要特点：加入SQL语言，定义变量/常量，条件语句/循环语句，处理错误
</p>
<p>
  <font color="#FF6800">2.PL/SQL的作用：</font>
</p>
<p>
  用来编写数据对象，如：存储过程，函数，触发器，包...
</p>
<p>
  <font color="#FF6800">3.数据对象：</font>
</p>
<p>
  存储过程:包含了几条sql语句
</p>
<p>
  函数：用于返回特定数据
</p>
<p>
  触发器：隐藏的存储过程
</p>
<p>
  包：存储过程和函数的结合体
</p>
<p>
  <font color="#FF6800">4.详解：</font>
</p>
<p>
  块是PL/SQL的基本程序单元，PL/SQL块由3个部分组成：
</p>
<p>
  <img border="0"
     src="http://7xkmea.com1.z0.glb.clouddn.com/7PLSQL三个部分.png" />
</p>
